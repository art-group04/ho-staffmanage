<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Branches</title>
    <link rel="stylesheet" href="./assets/css/home.css">
    <link rel="stylesheet" href="./assets/css/atten.css">
    <link rel="stylesheet" href="./assets/css/pop.css">
</head>
<body>
  <div id="navbar-container"></div>

  <div class="content-body" style="margin: 0; padding: 14px;">
  <div class="breadcrumb"><a href="./home.html">Home</a>&nbsp;> Branches</div>
  <div class="main-container">
    <div class="pageTitle">
    <h2 id="pageTitle">Branches List</h2></div>

    <div class="search-row">
      <div class="branch-filter">
        <input type="search" id="BranchSearch" class="search-input" placeholder="Search Branch" autocomplete="off">

        <select id="BranchGroup" class="search-input select">
          <option value="all">All</option>
          <option value="chengannur nidhi limited">Chengannur Nidhi</option>
          <option value="a r t leasing limited">A R T Leasing</option>
        </select>

        <select id="BranchStatus" class="search-input select">
          <option value="all">All</option>
          <option value="active">Active</option>
          <option value="closed">Closed</option>
        </select>
        
      </div>
      <div class="button-Branch">        
        <button class="addBranch-btn" id="addBranchbtn">Add Branches</button>
        <button class="assignBr-btn" id="btnAssignBr">Assign Branch</button>        
      </div>

    </div>
<div class="table-container">
    <table>
      <thead>
        <tr>
            <th>Code</th>
            <th>Branch</th>
          <th >Group</th>
          <th>Open Date</th>
          <th>Contact</th>
          <th>Address</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="BranchList">
        <tr><td colspan="8" class="text-center">Loading...</td></tr>
      </tbody>
    </table>
  </div>
</div>
</div>

<!-- new Branch Popup -->
<div id="newBranchPopup" class="popup-overlay-newBranch">
  <div class="newBranch-popup" role="dialog" aria-labelledby="newBranchTitle" aria-modal="true">
    <div class="title">
      <h3 id="newBranchTitle">New Branches</h3>
      <p id="status" aria-live="polite"></p></div>
    <div class="inputFields">
        <section class="branch-dtl" >
            <h4>Branch Details</h4>
            <div class="inputBox">
                <label for="bCode">Code</label>
                <input type="text" id="bCode" autocomplete="off">
            </div>
            <div class="inputBox">
                <label for="opnDt">Open date</label>
                <input type="date" id="opnDt" autocomplete="off">
            </div>
            <div class="inputBox">
                <label for="branchName">Branch</label>
                <input type="text" id="branchName" autocomplete="off">
            </div> 
            <div class="inputBox">
                <label for="companyIn">Group</label>
                <select name="companyIn" id="companyIn">
                  <option disabled selected>Select Branch Group</option>
                  <option value="chengannur nidhi limited">Chengannur Nidhi</option>
                  <option value="a r t leasing limited">A R T Leasing</option>
                </select>
            </div>
        </section>
        <section class="Contact-dtl">
            <h4>Contacts</h4>
            <div class="inputBox">
                <label for="phoneIn">Phone</label>
                <input type="text" id="phoneIn" placeholder="Phone Number" inputmode="numeric" maxlength="10" autocomplete="off" pattern="[0-9]{10}">
            </div>
            <div class="inputBox">
                <label for="emailIn">Email</label>
                <input type="email" id="emailIn" placeholder="branch@example.com"  autocomplete="off">
            </div>
            <div class="inputBox">
                <label for="addressIn">Address</label>
                <input type="text" id="addressIn" placeholder="Full address" autocomplete="off">
            </div>
        </section>        
    </div>
    <div class="newBranch-popup-buttons">
        <button id="saveDtl" class="btn save">Save</button>
        <button id="cancelDtl" class="btn cancel">Cancel</button>
    </div>
</div>
</div>

<div id="updateBranchPopup" class="popup-overlay-newBranch">
  <div class="newBranch-popup" role="dialog" aria-labelledby="newBranchTitle" aria-modal="true">
    <div class="title">
      <h3 id="newBranchTitle">Update Branches Details</h3>
      <p id="status" aria-live="polite"></p></div>
    <div class="inputFields">
        <section class="branch-dtl" >
            <h4>Branch Details</h4>
            <div class="inputBox">
                <label for="bCodeUp">Code</label>
                <input type="text" id="bCodeUp" autocomplete="off">
            </div>
            <div class="inputBox">
                <label for="opnDtUp">Open date</label>
                <input type="date" id="opnDtUp" autocomplete="off">
            </div>
            <div class="inputBox">
                <label for="branchNameUp">Branch</label>
                <input type="text" id="branchNameUp" autocomplete="off">
            </div> 
            <div class="inputBox">
                <label for="companyInUp">Group</label>
                <select name="companyIn" id="companyInUp">
                  <option disabled selected>Select Branch Group</option>
                  <option value="chengannur nidhi limited">Chengannur Nidhi</option>
                  <option value="a r t leasing limited">A R T Leasing</option>
                </select>
            </div>
        </section>
        <section class="Contact-dtl">
            <h4>Contacts</h4>
            <div class="inputBox">
                <label for="phoneInUp">Phone</label>
                <input type="text" id="phoneInUp" placeholder="Phone Number" inputmode="numeric" maxlength="10" autocomplete="off" pattern="[0-9]{10}">
            </div>
            <div class="inputBox">
                <label for="emailInUp">Email</label>
                <input type="email" id="emailInUp" placeholder="branch@example.com"  autocomplete="off">
            </div>
            <div class="inputBox">
                <label for="addressInUp">Address</label>
                <input type="text" id="addressInUp" placeholder="Full address" autocomplete="off">
            </div>
        </section>        
    </div>
    <div class="newBranch-popup-buttons">
        <button id="updateDtl" class="btn update">Update</button>
        <button id="cancelDtlUp" class="btn cancel">Cancel</button>
    </div>
</div>
</div>



<script> 
  const updateBtn = document.getElementById("addBranchbtn");
const cancelBtn = document.getElementById("CancelDtl");
const leavePopup = document.getElementById("newBranchPopup");

updateBtn.addEventListener("click", () => {
  newBranchPopup.style.display = "flex";
});


</script>

<script type="module" src="./assets/js/utils/topbar.js"></script>
<script type="module" src="./assets/js/branch.js"></script>
<script type="module" src="./assets/js/newbranch.js"></script>
</body>
</html>
